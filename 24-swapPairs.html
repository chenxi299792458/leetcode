<!DOCTYPE html>

<head>

</head>

<script>
    let head = {
        val: 1,
        next: {
            val: 2,
            next: {
                val: 3,
                next: {
                    val: 4,
                    next: {
                        val: 5,
                        next: {
                            val: 6,
                            next: {
                                val: 7,
                                next: null
                            }
                        }
                    }
                }
            }
        }
    }

    var swapPairs = function (head, k) {
        k = 2
        let result = {
            next: head
        }
        let index = 0;
        let arr = [];
        let start = result;
        let tail;
        let isFirst = true;
        while (head) {
            arr.push(head);
            index++;
            head = head.next;
            if (index === k) {
                for (let i = k - 1; i >= 0; i--) {
                    start.next = arr[i];
                    start = arr[i];
                }
                arr = [];
                index = 0;
            }
        }
        if (arr.length > 0) {
            start.next = arr[0];
            start = arr[0];
        }
        start.next = null;
        return result.next;
    };

    console.log(swapPairs(head));
</script>

</html>