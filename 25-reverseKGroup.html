<!DOCTYPE html>

<head>

</head>

<script>
    let head = {
        val: 1,
        next: {
            val: 2,
            next: {
                val: 3,
                next: {
                    val: 4,
                    next: {
                        val: 5,
                        next: null
                    }
                }
            }
        }
    }
    let k = 3;

    var reverseKGroup = function (head, k) {
        let result = {
            next: head
        }
        let index = 0;
        let arr = [];
        let start = result;
        let tail;
        let isFirst = true;
        while (head) {
            arr.push(head);
            index++;
            head = head.next;
            if (index === k) {
                for (let i = k - 1; i >= 0; i--) {
                    start.next = arr[i];
                    start = arr[i];
                }
                arr = [];
                index = 0;
            }
        }
        if (arr.length > 0) {
            arr.forEach((item) => {
                start.next = item;
                start = item;
            })
        }
        start.next = null;
        return result.next;
    };

    console.log(reverseKGroup(head, k));
</script>

</html>